(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["6530e32e"],{"073d":function(t,a,e){},"0e02":function(t,a,e){"use strict";var i=e("27da"),s=e.n(i);s.a},"27da":function(t,a,e){},"4d03":function(t,a,e){},"5b85":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"otc-page"},[e("TitleBar",{attrs:{titleTx:t.title}}),e("div",{staticClass:"otc-up"},[e("div",{staticClass:"pricetip"},[e("span",{staticStyle:{color:"#44566B"}},[t._v(t._s(t.$t("adprice"))+"：")]),e("div",{staticStyle:{"align-self":"center"}},[e("span",{staticStyle:{color:"#44566B"}},[e("b",[t._v(t._s(t.ethcny))])]),e("span",{staticStyle:{color:"gray"}},[t._v(" | ")]),e("span",{staticStyle:{color:"#44566B"}},[t._v("CNY")])])]),e("div",{staticClass:"tr-btn"},[e("q-btn",{staticClass:"et-btn",attrs:{flat:"",color:"primary",label:t.$t("myads")},nativeOn:{click:function(a){return t.myad(a)}}}),e("div",{staticClass:"porti-line"}),e("q-btn",{staticClass:"et-btn",attrs:{flat:"",color:"primary",label:t.$t("myorder")},nativeOn:{click:function(a){return t.myorder(a)}}})],1)]),e("div",{staticClass:"otc-down"},t._l(t.ads,function(a){return e("q-card",{key:a.index,staticClass:"otc-card",nativeOn:{click:function(e){t.cardClick(a)}}},[e("div",{staticClass:"card-item"},[e("span",{staticStyle:{color:"#3587F2","font-size":"22px"}},[t._v(t._s(a.ensname))]),e("span",{staticStyle:{color:"#44566B","font-size":"20px","align-self":"center"}},[t._v(t._s(t.getShowPrice(a.floatrate,a.lowestprice))+" CNY")])]),e("div",{staticClass:"card-item"},[e("span",{staticStyle:{color:"#6f7d8e","font-size":"13px"}},[t._v(t._s(t.$t("monthtrade"))+":"+t._s(""===a.monthtrade?0:a.monthtrade))]),e("span",{staticStyle:{color:"#6f7d8e","font-size":"13px","align-self":"center"}},[t._v(t._s(t.$t("singmin"))+":"+t._s(a.singmin)+" ETH")])]),e("div",{staticClass:"card-item"},[e("div",{staticStyle:{"margin-top":"10px"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:""!==a.alipayno,expression:"item.alipayno!==''"}],staticStyle:{height:"20px","margin-left":"5px"},attrs:{src:"statics/alipays.png"}}),e("img",{directives:[{name:"show",rawName:"v-show",value:""!==a.cardno,expression:"item.cardno!==''"}],staticStyle:{height:"20px","margin-left":"5px"},attrs:{src:"statics/bankcards.png"}})]),e("span",{staticStyle:{color:"#6f7d8e","font-size":"13px","align-self":"center"}},[t._v(t._s(t.$t("adamt"))+":"+t._s(a.tradeamount)+" ETH")])])])})),e("q-btn",{staticStyle:{position:"fixed",right:"20px",bottom:"20px",background:"#3587f2ad",color:"white"},attrs:{round:"",icon:"add"},on:{click:t.submitAd}}),e("CustomInfoDialog",{attrs:{dialogData:t.infodialog}}),e("OTCMakeOrderDialog",{attrs:{dialogData:t.otcDialogData}})],1)},s=[];i._withStripped=!0;e("c5f6");var n=e("9bfb"),o=(e("a002"),e("ef5a")),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-dialog",{on:{show:t.onShow,hide:t.onHide},scopedSlots:t._u([{key:"buttons",fn:function(a){return e("div",{staticClass:"dialog-btn"},[e("q-btn",{attrs:{flat:"",label:"取消"},on:{click:a.cancel}}),e("q-btn",{staticStyle:{"margin-top":"0px"},attrs:{flat:"",label:"立即下单"},on:{click:t.onOk}})],1)}}]),model:{value:t.dialogData.show,callback:function(a){t.$set(t.dialogData,"show",a)},expression:"dialogData.show"}},[e("span",{staticStyle:{color:"black"},attrs:{slot:"message"},slot:"message"},[t._v(t._s(t.$t("buyeth")))]),e("div",{attrs:{slot:"body"},slot:"body"},[e("div",{staticStyle:{display:"flex"}},[e("span",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v("买入价格:")]),e("span",[e("span",{staticStyle:{color:"red"}},[t._v(t._s(t.dialogData.price))]),t._v(" \n        "),e("span",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v("CNY/ETH")])])]),e("q-input",{attrs:{placeholder:"买入数量ETH",type:t.dialogData.type1},model:{value:t.text1,callback:function(a){t.text1=a},expression:"text1"}}),e("div",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v("付款金额:")]),e("div",[e("span",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v("付款方式:")])]),e("div",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v("备注信息:")])],1)])},l=[];c._withStripped=!0;e("7f7f"),e("96cf");var r=e("c973"),d=e.n(r),u={props:["dialogData"],data:function(){return{text1:"",text2:""}},methods:{onOk:function(){""!==this.text1&&(!0!==this.dialogData.show2||""!==this.text2)?("namesell"===this.dialogData.from||"modifysellprice"===this.dialogData.from)&&this.text1>50?toast(this.$t("namesellmax")):(this.$emit("mutiInputOk",{v1:this.text1,v2:this.text2,v3:this.dialogData.from}),this.dialogData.show=!1):toast(this.$t("nullinput"))},onCancel:function(){},onShow:function(){},onHide:function(){},choose:function(){var t=d()(regeneratorRuntime.mark(function t(a,e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.name.length){t.next=4;break}this.$q.dialog({title:"Please specify your name!",message:"Can't buy tickets without knowing your name."}),t.next=7;break;case 4:return t.next=6,a();case 6:this.$q.notify("Ok ".concat(this.name,", going with ").concat(e));case 7:case"end":return t.stop()}},t,this)}));return function(a,e){return t.apply(this,arguments)}}()}},h=u,f=(e("68a2"),e("2877")),p=Object(f["a"])(h,c,l,!1,null,"b20c6ae0",null);p.options.__file="OTCMakeOrderDialog.vue";var g=p.exports,m={components:{TitleBar:n["a"],CustomInfoDialog:o["a"],OTCMakeOrderDialog:g},data:function(){return{title:"SmartOTC",infodialog:{show:!1,vhtml:"",ok:this.$t("ok")},otcDialogData:{show:!1,price:"1000"},ethcny:"",ads:[{name:"smartgo",price:"1200",finishorders:"100",singlemin:"1",isAliypay:!0,isBankpay:!0,totalamt:50},{name:"smartgo",price:"1200",finishorders:"100",singlemin:"1",isAliypay:!0,isBankpay:!0,totalamt:50}]}},mounted:function(){var t=this;this.getETHPrice(),setInterval(function(){t.getETHPrice()},6e4),this.getAdList()},methods:{cardClick:function(t){this.otcDialogData.show=!0},getShowPrice:function(t,a){var e=this.ethcny*(1+parseFloat(t)/100);return Number(e<a?a:e).toFixed(4)},getAdList:function(){var t=this;this.$axios.get(this.global.BmobRestAPIUrl+"classes/otcad",{headers:this.global.BmobRestAPIHeaders}).then(function(a){console.log(a),200===a.status&&(t.ads=a.data.results.reverse())})},myad:function(){},myorder:function(){},getETHPrice:function(){var t=this,a="https://api.etherscan.io/api?module=stats&action=ethprice&apikey="+this.global.etherscanAPIKey;this.$axios.get(a).then(function(a){t.ethcny=Number(a.data.result.ethusd*parseFloat(t.global.config.usdcny)).toFixed(4)}).catch(function(t){}).then(function(){})},submitAd:function(){var t=this;""!==this.global.ensname?""!==this.global.loginfo.mobile&&"undefined"!==typeof this.global.loginfo.mobile?this.checkIsHaveAd():this.$q.dialog({message:this.$t("receiptinfo")}).then(function(){t.$router.push({path:"/ADReceiptInfo",query:{p1:""}})}).catch(function(){}):this.$q.dialog({message:this.$t("submitadnoensname")}).then(function(){t.$router.push({path:"/registeens",query:{p1:"otc"}})}).catch(function(){})},checkIsHaveAd:function(){var t=this,a={address:this.global.wallet.ethAddress};this.$axios.get(this.global.BmobRestAPIUrl+"classes/otcad?where="+encodeURI(JSON.stringify(a)),{headers:this.global.BmobRestAPIHeaders}).then(function(a){console.log(a),200===a.status&&(0!==a.data.results.length?toast(t.$t("onlycanhave1ad")):t.$router.push("/SubmitAD"))})}}},v=m,b=(e("0e02"),Object(f["a"])(v,i,s,!1,null,"13b376dc",null));b.options.__file="SmartOTC.vue";a["default"]=b.exports},"68a2":function(t,a,e){"use strict";var i=e("4d03"),s=e.n(i);s.a},"9bfb":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-bar"},[e("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(a){return t.goBack(a)}}}),e("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},s=[];i._withStripped=!0;var n={props:["titleTx"],methods:{goBack:function(){this.$router.go(-1)}}},o=n,c=(e("a675"),e("2877")),l=Object(c["a"])(o,i,s,!1,null,null,null);l.options.__file="TitleBar.vue";a["a"]=l.exports},a675:function(t,a,e){"use strict";var i=e("ca51"),s=e.n(i);s.a},b410:function(t,a,e){"use strict";var i=e("073d"),s=e.n(i);s.a},ca51:function(t,a,e){},ef5a:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-dialog",{attrs:{ok:t.dialogData.ok},on:{show:t.onShow,hide:t.onHide},model:{value:t.dialogData.show,callback:function(a){t.$set(t.dialogData,"show",a)},expression:"dialogData.show"}},[e("span",{staticStyle:{color:"black"},attrs:{slot:"message"},slot:"message"},[t._v(t._s(t.dialogData.msg))]),e("div",{attrs:{slot:"body"},slot:"body"},[e("span",{staticClass:"cid-tx",domProps:{innerHTML:t._s(t.dialogData.vhtml)}})])])},s=[];i._withStripped=!0;e("96cf");var n=e("c973"),o=e.n(n),c={props:["dialogData"],data:function(){return{}},methods:{onOk:function(){this.dialogData.show=!1},onCancel:function(){},onShow:function(){},onHide:function(){},choose:function(){var t=o()(regeneratorRuntime.mark(function t(a,e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t,this)}));return function(a,e){return t.apply(this,arguments)}}()}},l=c,r=(e("b410"),e("2877")),d=Object(r["a"])(l,i,s,!1,null,"2b2a047c",null);d.options.__file="CustomInfoDialog.vue";a["a"]=d.exports}}]);